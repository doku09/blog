# âœï¸ í•™ìŠµë‚´ìš©

## File,Files

### ì˜›ë‚ ì— íŒŒì¼ì„ í•¸ë“¤ë§í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ File í´ë˜ìŠ¤
```java
public class OldFileMain {
    public static void main(String[] args) throws IOException {
        File file = new File("temp/example.txt");
        File directory = new File("temp/exampleDir");
        // 1. exists(): íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸
        System.out.println("File exists: " + file.exists());
        // 2. createNewFile(): ìƒˆ íŒŒì¼ì„ ìƒì„±
        boolean created = file.createNewFile();
        System.out.println("File created: " + created);
        // 3. mkdir(): ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±
        boolean dirCreated = directory.mkdir();
        System.out.println("Directory created: " + dirCreated);
        // 4. delete(): íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œ
        //boolean deleted = file.delete();
        //System.out.println("File deleted: " + deleted);
        // 5. isFile(): íŒŒì¼ì¸ì§€ í™•ì¸
        System.out.println("Is file: " + file.isFile());
        // 6. isDirectory(): ë””ë ‰í† ë¦¬ì¸ì§€ í™•ì¸
        System.out.println("Is directory: " + directory.isDirectory());
        // 7. getName(): íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ì´ë¦„ì„ ë°˜í™˜
        System.out.println("File name: " + file.getName());
        // 8. length(): íŒŒì¼ì˜ í¬ê¸°ë¥¼ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°˜í™˜
        System.out.println("File size: " + file.length() + " bytes");
        // 9. renameTo(File dest): íŒŒì¼ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ê±°ë‚˜ ì´ë™
        File newFile = new File("temp/newExample.txt");
        boolean renamed = file.renameTo(newFile);
        System.out.println("File renamed: " + renamed);
        // 10. lastModified(): ë§ˆì§€ë§‰ìœ¼ë¡œ ìˆ˜ì •ëœ ì‹œê°„ì„ ë°˜í™˜
        long lastModified = newFile.lastModified();
        System.out.println("Last modified: " + new Date(lastModified));
    }
}
```
ì´ëŸ° ê¸°ëŠ¥ìœ„ì£¼ì˜ í´ë˜ìŠ¤ëŠ” ì™¸ìš°ì§€ ë§ê³  ì´ëŸ°ê²Œ ìˆë‹¤ ì •ë„ë§Œ ì•Œì•„ë‘ê³  ë‚˜ë¨¸ì§€ëŠ” í•„ìš”í• ë•Œ ê²€ìƒ‰í•´ì„œ ì‚¬ìš©í•˜ì

## Files
ìë°”ëŠ” 1.7ì—ì„œ `File` í´ë˜ìŠ¤ë¥¼ ê°œì„ í•˜ì—¬ `Files`ì™€ `Path` í´ë˜ìŠ¤ê°€ ë“±ì¥í•˜ì˜€ë‹¤.

```java
public class NewFilesMain {
	public static void main(String[] args) throws IOException {
		Path file = Path.of("temp/example.txt");
		Path directory = Path.of("temp/exampleDir");
		// 1. exists(): íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸
		System.out.println("File exists: " + Files.exists(file));
		// 2. createFile(): ìƒˆ íŒŒì¼ì„ ìƒì„±
		try {
			Files.createFile(file);
			System.out.println("File created");
		} catch (FileAlreadyExistsException e) {
			System.out.println(file + " File already exists");
		}
		// 3. createDirectory(): ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±
		try {
			Files.createDirectory(directory);
			System.out.println("Directory created");
		} catch (FileAlreadyExistsException e) {
			System.out.println(directory + " Directory already exists");
		}
		// 4. delete(): íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œ
		//Files.delete(file);
		//System.out.println("File deleted");
		// 5. isRegularFile(): ì¼ë°˜ íŒŒì¼ì¸ì§€ í™•ì¸
		System.out.println("Is regular file: " + Files.isRegularFile(file));
		// 6. isDirectory(): ë””ë ‰í† ë¦¬ì¸ì§€ í™•ì¸
		System.out.println("Is directory: " + Files.isDirectory(directory));
		// 7. getFileName(): íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ì˜ ì´ë¦„ì„ ë°˜í™˜
		System.out.println("File name: " + file.getFileName());
		// 8. size(): íŒŒì¼ì˜ í¬ê¸°ë¥¼ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°˜í™˜
		System.out.println("File size: " + Files.size(file) + " bytes");
		// 9. move(): íŒŒì¼ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ê±°ë‚˜ ì´ë™
		Path newFile = Paths.get("temp/newExample.txt");
		Files.move(file, newFile, StandardCopyOption.REPLACE_EXISTING);
		System.out.println("File moved/renamed");
		// 10. getLastModifiedTime(): ë§ˆì§€ë§‰ìœ¼ë¡œ ìˆ˜ì •ëœ ì‹œê°„ì„ ë°˜í™˜
		System.out.println("Last modified: " +
			Files.getLastModifiedTime(newFile));
		// ì¶”ê°€: readAttributes(): íŒŒì¼ì˜ ê¸°ë³¸ ì†ì„±ë“¤ì„ í•œ ë²ˆì— ì½ê¸°
		BasicFileAttributes attrs = Files.readAttributes(newFile,
			BasicFileAttributes.class);
		System.out.println("===== Attributes =====");
		System.out.println("Creation time: " + attrs.creationTime());
		System.out.println("Is directory: " + attrs.isDirectory());
		System.out.println("Is regular file: " + attrs.isRegularFile());
		System.out.println("Is symbolic link: " + attrs.isSymbolicLink());
		System.out.println("Size: " + attrs.size());
	}
}
```

## ê²½ë¡œí‘œì‹œ
### ì˜›ë‚  ë²„ì „ Path
```java
public class OldFilePath {

	public static void main(String[] args) throws IOException {
		File file = new File("temp/..");
		System.out.println("path = " + file.getPath());
		// ì ˆëŒ€ ê²½ë¡œ
		System.out.println("Absolute path = " + file.getAbsolutePath()); // C:\inflearn\younghan\java\practice-java-adv2\temp\..

		// ì •ê·œ ê²½ë¡œ
		System.out.println("Canonical path = " + file.getCanonicalPath()); // C:\inflearn\younghan\java\practice-java-adv2

		File[] files = file.listFiles();
		for (File f : files) {
			System.out.println((f.isFile() ? "F" : "D") + " | " + f.getName());
		}
	}
}
```
### ìµœì‹  ë²„ì „ Path
```java
public class NewFilesPath {
	public static void main(String[] args) throws IOException {
		Path path = Path.of("temp/..");
		System.out.println("path = " + path);

		// ì ˆëŒ€ ê²½ë¡œ
		System.out.println("Absolute path = " + path.toAbsolutePath());
		// ì •ê·œ ê²½ë¡œ
		System.out.println("Canonical path = " + path.toRealPath());

		Stream<Path> pathStream = Files.list(path);
		List<Path> list = pathStream.toList();
		pathStream.close();

		for (Path p : list) {
			System.out.println((Files.isRegularFile(p) ? "F" : "D") + " | " + p.getFileName());
		}
	}
}
```

## Filesë¡œ ë¬¸ì íŒŒì¼ ì½ê¸°
```java
public class ReadTextFileV1 {
	private static final String PATH = "temp/hello2.txt";

	public static void main(String[] args) throws IOException {
		String writeString = "abc\nê°€ë‚˜ë‹¤";
		System.out.println(" == Write String ==");
		System.out.println(writeString);

		Path path = Path.of(PATH);

		//íŒŒì¼ì— ì“°ê¸°
		Files.writeString(path, writeString, StandardCharsets.UTF_8);
		//íŒŒì¼ì—ì„œ ì½ê¸°
		String readString = Files.readString(path, StandardCharsets.UTF_8);

		System.out.println("=== Read String ==");
		System.out.println(readString);


        // ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•˜ì—¬ í•œì¤„ë‹¨ìœ„ë¡œ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ê³  ì²˜ë¦¬í• ìˆ˜ ìˆë‹¤.
        Stream<String> lineStream = Files.lines(path, UTF_8);

		lineStream.forEach(line -> System.out.println(line));

		lineStream.close();

        // í•œë²ˆì— ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ => ìŠ¤íŠ¸ë¦¼ê¶Œì¥
        /*List<String> lines = Files.readAllLines(path, StandardCharsets.UTF_8);
		for (int i = 0; i < lines.size(); i++) {
			System.out.println((i+1) + ": " + lines.get(i));
		}*/
	}
}
```

## íŒŒì¼ ë³µì‚¬ ìµœì í™”
```java
public class FileCopyMainV2 {
	public static void main(String[] args) throws IOException {
		long startTime = System.currentTimeMillis();

		FileInputStream fis = new FileInputStream("temp/copy.dat");
		FileOutputStream fos = new FileOutputStream("temp/copy/copy_new.dat");

        //1.
		fis.transferTo(fos);

		fis.close();
		fos.close();

        //2.
        Path source = Path.of("temp/copy.dat");
		Path target = Path.of("temp/copy_new.dat");

		Files.copy(source, target, StandardCopyOption.REPLACE_EXISTING);

		long endTime = System.currentTimeMillis();
		System.out.println("Time taken: " + (endTime - startTime) + "ms");
	}
}
```
# #ï¸âƒ£ ìƒê°í•´ë³¼ ë¬¸ì œ
# ğŸ’« í•™ìŠµìë£Œ